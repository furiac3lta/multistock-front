// Theme definitions and global styling
@use '@angular/material' as mat;

html {
  @include mat.theme((
    color: (
      primary: mat.$azure-palette,
      tertiary: mat.$blue-palette,
    ),
    typography: Roboto,
    density: 0,
  ));
}

// Theme tokens
:root {
  --brand-gradient-start: #facc15;
  --brand-gradient-end: #f97316;
  --brand-glow: rgba(249, 115, 22, 0.24);

  --text-strong: #f8fafc;
  --text-primary: #e5e7eb;
  --text-muted: #cbd5f5;
  --icon-color: #e5e7eb;

  --layout-background: radial-gradient(circle at 10% 20%, rgba(250, 204, 21, 0.08), transparent 28%),
                       radial-gradient(circle at 90% 10%, rgba(59, 130, 246, 0.06), transparent 22%),
                       #0b1120;
  --content-background: linear-gradient(180deg, rgba(11, 17, 32, 0.9), rgba(11, 17, 32, 0.9)),
                        radial-gradient(circle at 20% 20%, rgba(250, 204, 21, 0.08), transparent 30%),
                        radial-gradient(circle at 80% 0%, rgba(59, 130, 246, 0.07), transparent 28%),
                        #0b1120;
  --surface-card: rgba(255, 255, 255, 0.04);
  --surface-border: rgba(255, 255, 255, 0.08);
  --surface-strong: #0f172a;
  --surface-button: rgba(255, 255, 255, 0.06);
  --surface-button-border: rgba(255, 255, 255, 0.14);
  --surface-button-hover: rgba(255, 255, 255, 0.12);

  --table-header-bg: rgba(255, 255, 255, 0.06);
  --table-surface: rgba(15, 23, 42, 0.75);
  --table-row-hover: rgba(59, 130, 246, 0.12);
  --table-divider: rgba(255, 255, 255, 0.08);

  --footer-bg: #0f172a;
  --footer-text: #facc15;
  --shadow-elevated: 0 16px 50px rgba(0, 0, 0, 0.35);
}

body.theme-light {
  --text-strong: #0f172a;
  --text-primary: #0b1120;
  --text-muted: #475569;
  --icon-color: #0f172a;

  --layout-background: radial-gradient(circle at 12% 22%, rgba(59, 130, 246, 0.08), transparent 28%),
                       radial-gradient(circle at 80% 10%, rgba(250, 204, 21, 0.12), transparent 24%),
                       #e5eaf3;
  --content-background: linear-gradient(180deg, #edf2f7, #dfe6f2);
  --surface-card: #f3f6fb;
  --surface-border: #d4dbea;
  --surface-strong: #e5eaf3;
  --surface-button: #ecf1f8;
  --surface-button-border: #c9d2e4;
  --surface-button-hover: #dde5f3;

  --table-header-bg: #e6edf8;
  --table-surface: #f3f6fb;
  --table-row-hover: #dde6f3;
  --table-divider: #cbd5e1;

  --footer-bg: #f1f5f9;
  --footer-text: #111827;
  --shadow-elevated: 0 12px 30px rgba(15, 23, 42, 0.12);
}

body {
  color-scheme: light;
  background-color: var(--surface-strong);
  color: var(--text-primary);
  font: var(--mat-sys-body-medium);
  margin: 0;
}

html, body {
  height: 100%;
}

/* Dialog styling */
.mat-mdc-dialog-container {
  color: var(--text-primary);
}

.mat-mdc-dialog-container .mdc-dialog__surface {
  border-radius: 18px !important;
  padding: 18px !important;
  background: radial-gradient(circle at 12% 12%, rgba(250, 204, 21, 0.12), transparent 28%),
              radial-gradient(circle at 88% 10%, rgba(59, 130, 246, 0.12), transparent 26%),
              var(--surface-strong) !important;
  border: 1px solid var(--surface-border) !important;
  box-shadow: var(--shadow-elevated) !important;
  color: var(--text-primary) !important;
}

.mat-mdc-dialog-title {
  font-size: 20px !important;
  font-weight: 700 !important;
  text-align: left !important;
  margin: 0 0 8px !important;
  color: var(--text-strong) !important;
}

.mat-mdc-dialog-content {
  padding-top: 6px !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 16px !important;
  color: var(--text-primary) !important;
}

.mat-mdc-dialog-content form,
.mat-mdc-dialog-content .form {
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.mat-mdc-dialog-content label,
.mat-mdc-dialog-content .mat-mdc-form-field label,
.mat-mdc-dialog-content mat-label,
.mat-mdc-dialog-content h4 {
  color: var(--text-muted);
  font-weight: 600;
  letter-spacing: 0.01em;
}

.mat-mdc-dialog-content input,
.mat-mdc-dialog-content textarea,
.mat-mdc-dialog-content select {
  width: 100%;
  padding: 12px 14px;
  border-radius: 12px;
  border: 1px solid var(--surface-border);
  background: var(--surface-strong);
  color: var(--text-strong);
  font-weight: 600;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.mat-mdc-dialog-content input:focus,
.mat-mdc-dialog-content textarea:focus,
.mat-mdc-dialog-content select:focus {
  outline: none;
  border-color: var(--brand-gradient-start);
  box-shadow: 0 0 0 3px var(--brand-glow);
}

.mat-mdc-form-field { width: 100% !important; }
.mat-mdc-text-field-wrapper {
  background: var(--surface-strong) !important;
  border-radius: 14px !important;
  border: 1px solid var(--surface-border) !important;
}
.mdc-notched-outline { border-radius: 14px !important; }
.mdc-notched-outline__leading,
.mdc-notched-outline__notch,
.mdc-notched-outline__trailing { border-color: var(--surface-border) !important; }

.mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,
.mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,
.mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing { border-color: var(--brand-gradient-start) !important; }

.mdc-floating-label { color: var(--text-muted) !important; font-weight: 600 !important; }
.mat-mdc-input-element, .mat-mdc-select-trigger { font-size: 15px !important; font-weight: 600 !important; color: var(--text-strong) !important; }

.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked .mdc-switch__track { background-color: rgba(250, 204, 21, 0.35) !important; }
.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked .mdc-switch__thumb { background: var(--brand-gradient-start) !important; }

.mat-mdc-dialog-actions {
  display: flex !important;
  justify-content: space-between !important;
  padding-top: 18px !important;
  border-top: 1px solid var(--surface-border) !important;
  margin-top: 4px !important;
  gap: 10px;
}

.mat-mdc-dialog-actions button,
.mat-mdc-dialog-container .actions button,
.mat-mdc-dialog-container .btn {
  border-radius: 12px !important;
  font-weight: 700 !important;
  padding: 10px 16px !important;
  letter-spacing: 0.01em;
}

.mat-mdc-dialog-actions button.mat-mdc-button-base,
.mat-mdc-dialog-container .btn.btn-secondary,
.mat-mdc-dialog-container .actions .cancel,
.mat-mdc-dialog-container .actions .btn-cancel {
  background: transparent !important;
  border: 1px solid var(--surface-border) !important;
  color: var(--text-strong) !important;
  transition: background-color 0.2s ease, border-color 0.2s ease;
}

.mat-mdc-dialog-actions button.mat-mdc-button-base:hover,
.mat-mdc-dialog-container .btn.btn-secondary:hover,
.mat-mdc-dialog-container .actions .cancel:hover,
.mat-mdc-dialog-container .actions .btn-cancel:hover {
  background: var(--surface-button-hover) !important;
  border-color: var(--brand-gradient-end) !important;
}

.mat-mdc-dialog-actions .mat-mdc-raised-button.mat-primary,
.mat-mdc-dialog-container .btn.btn-primary,
.mat-mdc-dialog-container .actions .save,
.mat-mdc-dialog-container .actions .btn-save {
  background: linear-gradient(135deg, var(--brand-gradient-start), var(--brand-gradient-end)) !important;
  color: #0b0f1b !important;
  box-shadow: 0 10px 25px rgba(249, 115, 22, 0.25) !important;
  border: 1px solid transparent !important;
}

.mat-mdc-dialog-actions .mat-mdc-raised-button.mat-primary:hover,
.mat-mdc-dialog-container .btn.btn-primary:hover,
.mat-mdc-dialog-container .actions .save:hover,
.mat-mdc-dialog-container .actions .btn-save:hover {
  box-shadow: 0 12px 28px rgba(249, 115, 22, 0.35) !important;
  transform: translateY(-1px);
}

button.mdc-button { font-weight: 700 !important; }
