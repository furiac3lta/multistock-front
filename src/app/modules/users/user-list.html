<div class="users-container">

    <div class="header">
        <div class="title-block">
            <p class="eyebrow">Gestión</p>
            <h2>Usuarios</h2>
        </div>
        <button class="create-btn" (click)="openCreate()">
            <span class="plus">+</span> Nuevo usuario
        </button>
    </div>

    <div class="table-card">
    <table>
        <thead>
            <tr>
                <th>Usuario</th>
                <th>Nombre</th>
                <th>Rol</th>
                <th>Sucursal</th>
                <th>Activo</th>
                <th>Acciones</th>
            </tr>
        </thead>

        <tbody>
            <tr *ngFor="let u of users">
                <td>{{ u.username }}</td>
                <td>{{ u.fullName }}</td>
                <td>{{ u.roles[0] }}</td>
                <td>{{ u.branchName }}</td>

                <td>
                    <span [class.active]="u.active" [class.inactive]="!u.active">
                        {{ u.active ? "Sí" : "No" }}
                    </span>
                </td>

                <td class="actions">
                    <button class="action-btn ghost" (click)="openEdit(u)">Editar</button>

                    <button class="action-btn ghost" (click)="openPassword(u)">Contraseña</button>

                    <button class="action-btn ghost" (click)="openRole(u)">Rol</button>

                    <button class="action-btn warn" (click)="toggle(u)">
                        {{ u.active ? "Desactivar" : "Activar" }}
                    </button>
                </td>


            </tr>
        </tbody>
    </table>
    </div>

</div>